(this.webpackJsonpfront_economies=this.webpackJsonpfront_economies||[]).push([[0],{138:function(e,t,c){},385:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(29),r=c.n(a),i=(c(138),c(20)),o=c(11),j=c(3),l=c(10),d=c(31),b=c(25),h=c.n(b),u=c(62),O=Object(u.b)({name:"members",initialState:{members:[],records:[],categories:[],subcategories:[]},reducers:{setMembers:function(e,t){e.members=t.payload},addMember:function(e,t){e.members.push(t.payload)},removeMember:function(e,t){e.members=e.members.filter((function(e){return e.id!=t.payload})),e.records=e.records.filter((function(e){return e.made_by!=t.payload}))},updateMember:function(e,t){var c=e.members.findIndex((function(e){return e.id===t.payload.values.data.id}));e.members[c]=t.payload.values.data},setCategory:function(e,t){e.categories=t.payload},addCat:function(e,t){e.categories.push(t.payload)},removeCat:function(e,t){e.records=e.records.filter((function(e){return e.category_associated==t.payload})),e.records.forEach((function(e){e.category_associated=null})),e.categories=e.categories.filter((function(e){return e.id!=t.payload}))},updateCat:function(e,t){var c=e.categories.findIndex((function(e){return e.id===t.payload.values.data.id}));e.categories[c]=t.payload.values.data},setSubCategory:function(e,t){e.subcategories=t.payload},addSub:function(e,t){e.subcategories.push(t.payload)},removeSub:function(e,t){e.records=e.records.filter((function(e){return e.sub_category_associated==t.payload})),e.records.forEach((function(e){e.sub_category_associated=null})),e.subcategories=e.subcategories.filter((function(e){return e.id!=t.payload}))},updateSub:function(e,t){var c=e.subcategories.findIndex((function(e){return e.id===t.payload.values.data.id}));e.subcategories[c]=t.payload.values.data},setRecords:function(e,t){e.records=t.payload},addRecords:function(e,t){e.records.push(t.payload)},removeRecord:function(e,t){e.records=e.records.filter((function(e){return e.id!=t.payload}))},updateRecord:function(e,t){var c=e.records.findIndex((function(e){return e.id===t.payload.values.data.id}));e.records[c]=t.payload.values.data}}}),x=O,m=c(2),g=function(){var e=c(25),t=Object(o.b)(),s=Object(o.c)((function(e){return e.auth.token})),a={Authorization:"Bearer ".concat(s)},r="http://localhost:8000/api/members/",i=Object(n.useState)("delete"),b=Object(l.a)(i,2),h=b[0],u=b[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),f=g[0],p=g[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),_=(v[0],v[1],function(){var c=Object(d.a)({initialValues:{member_name:""},onSubmit:function(c,n){var s,i=n.resetForm;switch(p(!f),h){case"add":s=c.member_name,e({method:"post",url:r,headers:a,data:{member_name:s}}).then((function(e){t(O.actions.addMember(e.data))})).catch((function(e){var t={e:e};console.log({e:e});try{t.e.response.data.forbidden.includes("exceeded")&&alert("Max Members Exceeded")}catch(c){}}));break;case"delete":!function(){var c={method:"delete",url:r,headers:a,data:{id:S.id}};e(c).then((function(){t(O.actions.removeMember(S.id))})).catch((function(e){return{e:e}}))}();break;default:!function(c){var n={method:"put",url:r,headers:a,data:{id:S.id,member_name:c}};e(n).then((function(e){t(O.actions.updateMember({values:e}))})).catch((function(e){return{e:e}}))}(c.member_name)}i()}});return Object(m.jsxs)(j.k,{isOpen:f,toggle:function(){return p(!f)},children:[Object(m.jsx)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return p(!f)},children:"\xd7"}),children:"Form"}),Object(m.jsx)(j.l,{children:Object(m.jsx)(j.e,{onSubmit:c.handleSubmit,children:Object(m.jsxs)(j.d,{children:["delete"!=h?Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{xs:"4",children:Object(m.jsx)(j.h,{children:"Member Name"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"member_name",id:"member_name",type:"text",onChange:c.handleChange,value:c.values.member_name,placeholder:"Insert the new Member Name",required:!0})})]})}):Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:"Are you sure to delete?"})})}),Object(m.jsxs)(j.s,{className:"text-center",children:[Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:Object(m.jsx)("h3",{className:"deleteName",children:S.member_name})})}),Object(m.jsx)("span",{children:"Deleting the member will imply lose all the records produced by this member."})]})]}),"delete"!=h?Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"primary",children:"Save Member"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return p(!f)},color:"secondary",children:"Cancel"})]})}):Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"danger",children:"Delete Member"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return p(!f)},color:"secondary",children:"Cancel"})]})})]})})})]})}),N=Object(o.c)((function(e){return e.members.members})),C=Object(n.useState)({}),k=Object(l.a)(C,2),S=k[0],w=k[1],F=0,A=N.map((function(e){return F++,Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:F}),Object(m.jsx)("td",{children:e.member_name}),Object(m.jsxs)("td",{children:[Object(m.jsx)(j.a,{color:"primary",onClick:function(){p(!f),u("update"),w(e)},children:Object(m.jsx)("i",{className:"fa fa-refresh"})}),Object(m.jsx)(j.a,{color:"danger",onClick:function(){p(!f),u("delete"),w(e)},children:Object(m.jsx)("i",{className:"fa fa-trash-o sm"})})]})]})}));return Object(m.jsxs)(j.s,{className:"confRow",children:[Object(m.jsx)(_,{}),Object(m.jsxs)(j.b,{children:[Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)("h2",{children:"Member"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.a,{color:"success",onClick:function(){p(!f),u("add")},children:"Add Member"})})]}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.t,{hover:!0,responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Action"})]})}),Object(m.jsx)("tbody",{children:A})]})})]})]})},f=function(){var e=c(25),t=Object(o.b)(),s=Object(o.c)((function(e){return e.auth.token})),a={Authorization:"Bearer ".concat(s)},r="http://localhost:8000/api/category/",i=Object(n.useState)("delete"),b=Object(l.a)(i,2),h=b[0],u=b[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),f=g[0],p=g[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),_=(v[0],v[1],function(){var c=Object(d.a)({initialValues:{category_name:""},onSubmit:function(c,n){var s,i,o=n.resetForm;switch(p(!f),h){case"add":i=c.category_name,e({method:"post",url:r,headers:a,data:{category_name:i}}).then((function(e){t(O.actions.addCat(e.data))})).catch((function(e){var t={e:e};console.log({e:e});try{t.e.response.data.forbidden.includes("exceeded")&&alert("Max Category Exceeded")}catch(c){}}));break;case"delete":s=S.id,e({method:"delete",url:r,headers:a,data:{id:s}}).then((function(){t(O.actions.removeCat(S.id))})).catch((function(e){return{e:e}}));break;default:!function(c,n){e({method:"put",url:r,headers:a,data:{id:c,category_name:n}}).then((function(e){t(O.actions.updateCat({values:e}))})).catch((function(e){return{e:e}}))}(S.id,c.category_name)}o()}});return Object(m.jsxs)(j.k,{isOpen:f,toggle:function(){return p(!f)},children:[Object(m.jsx)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return p(!f)},children:"\xd7"}),children:"Form Categories"}),Object(m.jsx)(j.l,{children:Object(m.jsx)(j.e,{onSubmit:c.handleSubmit,children:Object(m.jsxs)(j.d,{children:["delete"!=h?Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Category Name"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"category_name",id:"category_name",type:"text",onChange:c.handleChange,value:c.values.category_name,placeholder:"Insert the new Member Name",required:!0})})]})}):Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:"Are you sure to delete?"})})}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:Object(m.jsx)("h3",{className:"deleteName",children:S.category_name})})})})]}),"delete"!=h?Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"primary",children:"Save Category"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return p(!f)},color:"secondary",children:"Cancel"})]})}):Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"danger",children:"Delete Category"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return p(!f)},color:"secondary",children:"Cancel"})]})})]})})})]})}),N=Object(o.c)((function(e){return e.members.categories})),C=Object(n.useState)({}),k=Object(l.a)(C,2),S=k[0],w=k[1],F=0,A=N.map((function(e){return F++,Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:F}),Object(m.jsx)("td",{children:e.category_name}),Object(m.jsxs)("td",{children:[Object(m.jsx)(j.a,{color:"primary",onClick:function(){p(!f),u("update"),w(e)},children:Object(m.jsx)("i",{className:"fa fa-refresh"})}),Object(m.jsx)(j.a,{color:"danger",onClick:function(){p(!f),u("delete"),w(e)},children:Object(m.jsx)("i",{className:"fa fa-trash-o sm"})})]})]})}));return Object(m.jsxs)(j.s,{className:"confRow",children:[Object(m.jsx)(_,{}),Object(m.jsxs)(j.b,{children:[Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)("h2",{children:"Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.a,{color:"success",onClick:function(){p(!f),u("add")},children:"Add Category"})})]}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.t,{hover:!0,responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Action"})]})}),Object(m.jsx)("tbody",{children:A})]})})]})]})},p=function(){var e=c(25),t=Object(o.b)(),a=Object(o.c)((function(e){return e.members.categories})),r=Object(o.c)((function(e){return e.auth.token})),i={Authorization:"Bearer ".concat(r)},b="http://localhost:8000/api/sub_category/",h=Object(n.useState)("add"),u=Object(l.a)(h,2),x=u[0],g=u[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),y=p[0],v=p[1],_=Object(n.useState)(!1),N=Object(l.a)(_,2),C=(N[0],N[1],a.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.category_name})}))),k=function(){var c=Object(d.a)({initialValues:{sub_category_name:A.sub_category_name,primary_category:a[0]?a[0].id:""},onSubmit:function(c,n){var s,a,r,o=n.resetForm;switch(v(!y),x){case"add":a=c.sub_category_name,r=c.primary_category,e({method:"post",url:b,headers:i,data:{sub_category_name:a,primary_category:r}}).then((function(e){t(O.actions.addSub(e.data))})).catch((function(e){var t={e:e};console.log({e:e});try{t.e.response.data.forbidden.includes("exceeded")&&alert("Max Sub Category Exceeded")}catch(c){}}));break;case"delete":s=A.id,e({method:"delete",url:b,headers:i,data:{id:s}}).then((function(e){t(O.actions.removeSub(A.id))})).catch((function(e){return{e:e}}));break;default:!function(c,n,s){e({method:"put",url:b,headers:i,data:{id:c,sub_category_name:n,primary_category_id:s}}).then((function(e){t(O.actions.updateSub({values:e}))})).catch((function(e){return{e:e}}))}(A.id,c.sub_category_name,c.primary_category)}o()}});return Object(m.jsxs)(j.k,{isOpen:y,toggle:function(){return v(!y)},children:[Object(m.jsx)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return v(!y)},children:"\xd7"}),children:"Form SubCategory"}),Object(m.jsx)(j.l,{children:Object(m.jsx)(j.e,{onSubmit:c.handleSubmit,children:Object(m.jsxs)(j.d,{children:["delete"!=x?Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Primary Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{className:"form-control",name:"primary_category",id:"primary_category",type:"select",onChange:c.handleChange,value:c.values.primary_category,placeholder:"Insert the new Member Name",required:!0,children:C})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)(j.h,{children:"SubCategory Name"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"sub_category_name",id:"sub_category_name",type:"text",onChange:c.handleChange,value:c.values.sub_category_name,placeholder:"Insert the new Member Name"})})]})})]}):Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:"Are you sure to delete?"})})}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:Object(m.jsx)("h3",{className:"deleteName",children:A.sub_category_name})})})})]}),"delete"!=x?Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"primary",children:"Save SubCategory"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return v(!y)},color:"secondary",children:"Cancel"})]})}):Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"danger",children:"Delete sub category"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return v(!y)},color:"secondary",children:"Cancel"})]})})]})})})]})},S=Object(o.c)((function(e){return e.members.subcategories})),w=Object(n.useState)({}),F=Object(l.a)(w,2),A=F[0],M=F[1],B=0,E=S.map((function(e){B++;var t=a.find((function(t){return t.id==e.primary_category}));return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:B}),Object(m.jsx)("td",{children:e.sub_category_name}),Object(m.jsx)("td",{children:t?t.category_name:"This sub category does not exists anymore"}),Object(m.jsxs)("td",{children:[Object(m.jsx)(j.a,{color:"primary",onClick:function(){v(!y),g("update"),M(e)},children:Object(m.jsx)("i",{className:"fa fa-refresh"})}),Object(m.jsx)(j.a,{color:"danger",onClick:function(){v(!y),g("delete"),M(e)},children:Object(m.jsx)("i",{className:"fa fa-trash-o sm"})})]})]})}));return Object(m.jsxs)(j.s,{className:"confRow",children:[Object(m.jsx)(k,{}),Object(m.jsxs)(j.b,{children:[Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)("h2",{children:"Sub Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.a,{color:"success",onClick:function(){v(!y),g("add")},children:"Add sub category"})})]}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.t,{hover:!0,responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Related Category"}),Object(m.jsx)("th",{children:"Action"})]})}),Object(m.jsx)("tbody",{children:E})]})})]})]})},y=function(){var e=Object(i.h)();return Object(n.useEffect)((function(){e.hash?document.getElementById(e.hash.slice(1)).scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e]),Object(m.jsxs)(j.d,{children:[Object(m.jsx)("div",{id:"member",children:Object(m.jsx)(g,{})}),Object(m.jsx)("div",{id:"category",children:Object(m.jsx)(f,{})}),Object(m.jsx)("div",{id:"subcategory",children:Object(m.jsx)(p,{})})]})},v=c(22),_=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth.token})),a=Object(o.c)((function(e){return e.members.members})),r={Authorization:"Bearer ".concat(t)},i=Object(o.c)((function(e){return e.members.categories})),b=Object(o.c)((function(e){return e.members.subcategories})),h=Object(n.useState)(!1),u=Object(l.a)(h,2),O=u[0],g=u[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),y=p[0],_=p[1],N=Object(d.a)({initialValues:{title:"",price:"",member:a[0]?a[0].id:null,category:i[0]?i[0].id:null,sub_category:null,description:"",date:(new Date).toJSON().slice(0,10).replace(/-/g,"-")},onSubmit:function(t,n){n.setSubmitting,n.setErrors;var s,a,i,o,j,l,d,b=n.setStatus,h=n.resetForm;-1===t.sub_category&&(t.sub_category=null),s=t.title,a=t.price,i=t.member,o=t.category,j=t.sub_category,l=t.description,d=t.date,c(25)({method:"post",url:"http://localhost:8000/api/records/",headers:r,data:{record_name:s,price:a,made_by:i,category_associated:o,sub_category_associated:j,description:l,created_at:d}}).then((function(t){e(x.actions.addRecords(t.data)),g(!0),setTimeout((function(){return g(!1)}),5e3)})).catch((function(e){_(!0),setTimeout((function(){return _(!1)}),5e3);var t={e:e};try{t.e.response.data.forbidden.includes("exceeded")&&O("Max Members Exceeded")}catch(c){}})),h({}),b({success:!0})},validateOnChange:!1,validateOnBlur:!1});var C,k=i.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.category_name})})),S=b.filter((function(e){return e.primary_category==N.values.category})).map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.sub_category_name})})),w=a.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.member_name})}));return C=y?"rgba(126, 25, 25,0.7)":O?"rgba(154, 255, 154,0.6)":"white",Object(m.jsx)(s.a.Fragment,{children:Object(m.jsxs)(j.e,{onSubmit:N.handleSubmit,style:{backgroundColor:C,padding:"5px"},children:[Object(m.jsx)("h4",{style:{textAlign:"center",paddingBottom:"20px"},children:"New records"}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{htmlFor:"members",children:"Member"})}),Object(m.jsx)(j.b,{children:Object(m.jsxs)(j.g,{type:"select",name:"member",id:"member",value:N.values.member,onChange:N.handleChange,className:"form-control",children:[a[0]?Object(m.jsx)("div",{}):Object(m.jsx)("option",{value:-1,children:" None "}),w]})}),Object(m.jsx)(j.b,{className:"plusSign",xs:"auto",children:Object(m.jsx)(v.b,{to:"/configurations#member",children:Object(m.jsx)("i",{className:"fa fa-plus fa-lg"})})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Title"})}),Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)(j.g,{name:"title",id:"title",type:"text",onChange:N.handleChange,value:N.values.title,required:!0,placeholder:"Dai un Titolo"})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Price"})}),Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)(j.g,{name:"price",id:"price",type:"number",onChange:N.handleChange,value:N.values.price,placeholder:"Dai un Prezzo",required:!0})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"category",id:"category",type:"select",onChange:function(e){N.handleChange(e),N.values.sub_category=-1},value:N.values.category,className:"form-control",required:!0,children:k})}),Object(m.jsx)(j.b,{className:"plusSign",xs:"auto",children:Object(m.jsx)(v.b,{to:"/configurations#category",children:Object(m.jsx)("i",{className:"fa fa-plus fa-lg"})})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Sub category"})}),Object(m.jsx)(j.b,{children:Object(m.jsxs)(j.g,{name:"sub_category",id:"sub_category",type:"select",onChange:function(e){N.handleChange(e)},value:N.values.sub_category,className:"form-control",children:[Object(m.jsx)("option",{value:"",children:" None "}),S]})}),Object(m.jsx)(j.b,{className:"plusSign",xs:"auto",children:Object(m.jsx)(v.b,{to:"/configurations#subcategory",children:Object(m.jsx)("i",{className:"fa fa-plus fa-lg"})})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{className:"align-items-center",children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Date"})}),Object(m.jsx)(j.b,{xs:"auto",children:Object(m.jsx)(j.g,{name:"date",id:"date",type:"date",onChange:N.handleChange,value:N.values.date})})]})}),Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Description"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"description",id:"description",type:"textarea",onChange:N.handleChange,value:N.values.description,placeholder:"Dai una Descrizione"})})]}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,style:{paddingBottom:"20px"},children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"primary",children:"Save new record"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",color:"secondary",children:"Cancel"})]})})]})})},N=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(m.jsx)(j.p,{light:!0,expand:"lg",className:"secondNav",children:Object(m.jsxs)(j.d,{children:[Object(m.jsxs)(j.q,{children:[" ",Object(m.jsx)(v.b,{to:"/home",children:" Summary"})]}),Object(m.jsx)(j.r,{onClick:function(){return s(!c)}}),Object(m.jsx)(j.c,{isOpen:c,navbar:!0,children:Object(m.jsxs)(j.n,{navbar:!0,className:"mr-auto",children:[Object(m.jsx)(j.o,{children:Object(m.jsx)(v.b,{to:"/dashboard",className:"nav-link",children:"Dashboards"})}),Object(m.jsx)(j.o,{children:Object(m.jsx)(v.b,{to:"/history",className:"nav-link",children:"Registry"})}),Object(m.jsx)(j.o,{children:Object(m.jsx)(v.b,{to:"/configurations",className:"nav-link",children:"Configurations"})})]})})]})})},C=c(103),k=c(392),S=c(399),w=c(198),F=c(30),A=c(89),M=c(86),B=["#A1887F ","#EB984E","#F4D03F","#58D68D","#48C9B0","#5499C7","#AF7AC5","#CD6155"],E=["#B71C1C","#880E4F","#FF8042","#0D47A1","#006064","#689F38","#F57F17","#E65100","#0088FE"],D=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],R=function(){Object(o.c)((function(e){return e.members.members}));var e=Object(o.c)((function(e){return e.members.records})),t=Object(o.c)((function(e){return e.members.categories})),c=(Object(o.c)((function(e){return e.members.subcategories})),Object(n.useState)((new Date).getMonth())),a=Object(l.a)(c,2),r=a[0],i=a[1],d=Object(n.useState)((new Date).getFullYear()),b=Object(l.a)(d,2),h=b[0],u=b[1],O=["January","February","March","April","May","June","July","August","September","October","November","December"],x={};e.map((function(e){var c=new Date(e.created_at);if(c.getFullYear()==h&c.getMonth()==r){var n=e.price,s=e.category_associated;s&&(s=t.find((function(t){return t.id==e.category_associated})).category_name),s in x?x[s]+=n:x[s]=n}}));for(var g=[],f=[],p=0,y=Object.keys(x),v=0;v<y.length;v++)f.push({name:y[v],value:x[y[v]]}),p+=x[y[v]],g.push(Object(m.jsx)(C.a,{fill:E[v]},"cell-".concat(v)));var _=!0;return 0===f.length&&(f=[{name:"No Records in ".concat(r),value:.01}],_=!1),Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsx)(j.b,{children:Object(m.jsx)("h4",{children:"Monthly summary of all members"})})}),Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{children:Object(m.jsx)(k.a,{width:"99%",aspect:1.5,children:Object(m.jsxs)(S.a,{children:[Object(m.jsxs)(w.a,{data:f,dataKey:"value",fill:"#8884d8",startAngle:0,endAngle:360,innerRadius:window.innerWidth<500?40:110,paddingAngle:1,label:!(window.innerWidth<500)&&_,children:[g,Object(m.jsx)(F.a,{width:30,position:"center",children:"Tot ".concat(p)})]}),Object(m.jsx)(A.a,{contentStyle:{border:"4px solid royalblue",backgroundColor:"peachpuff"}}),window.innerWidth<500?Object(m.jsx)(M.a,{margin:{top:0,left:0,right:0,bottom:0},layout:"horizontal",align:"center",verticalAlign:"bottom",iconSize:3}):Object(m.jsx)(M.a,{layout:"vertical",align:"left",verticalAlign:"middle",iconSize:20})]})})})}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{children:[Object(m.jsxs)(j.a,{onClick:function(){return i(-1===(e=r-1)?(u(h-1),11):e);var e},className:"monthButton notCentral",children:[" ",0===r?O[11]:O[r-1]," "]}),Object(m.jsxs)(j.a,{onClick:function(){return i(r)},className:"monthButton",children:[" ",O[r]," "]}),Object(m.jsx)(j.a,{onClick:function(){return i(12===(e=r+1)?(u(h+1),0):e);var e},className:"monthButton notCentral",children:11===r?O[0]:O[r+1]})]})})]})};var T=function(){return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsx)(j.d,{style:{marginTop:"50px"},children:Object(m.jsxs)(j.s,{children:[Object(m.jsxs)(j.b,{xs:"12",lg:"8",className:"summaryChart",children:[Object(m.jsx)(R,{}),Object(m.jsx)("hr",{style:{border:"black 1px dashed",display:"none"}})]}),Object(m.jsx)(j.b,{xs:"12",lg:"4",children:Object(m.jsx)(_,{})})]})})})},z=(c(379),Object(u.b)({name:"auth",initialState:{user:null,token:null,refreshToken:null,isLogged:!1},reducers:{setAuthTokens:function(e,t){e.refreshToken=t.payload.refreshToken,e.token=t.payload.token,e.isLogged=!0},setAccount:function(e,t){e.account=t.payload,e.isLogged=!0},logout:function(e){e.isLogged=!1,e.token=null,e.refreshToken=null}}})),q=function(e){var t=Object(o.b)(),a=Object(i.g)(),r=Object(n.useState)(!1),b=Object(l.a)(r,2),h=b[0],u=b[1],O=Object(n.useState)("white"),g=Object(l.a)(O,2),f=g[0],p=g[1],y=Object(n.useState)(Object(m.jsx)("div",{})),_=Object(l.a)(y,2),N=_[0],C=_[1],k=c(25),S=Object(d.a)({initialValues:{username:"",password:""},onSubmit:function(e,c){var n,s;c.setErrors,c.setStatus,c.resetForm;n=e.username,s=e.password,k({method:"post",url:"http://127.0.0.1:8000/auth/login/",headers:{"Content-Type":"application/json"},data:{username:n,password:s}}).then((function(e){return t(z.actions.setAuthTokens({token:e.data.access,refreshToken:e.data.refresh})),t(z.actions.setAccount(e.data.user)),a.push("/"),u(!h),e.data.access})).then((function(e){var c={headers:{Authorization:"Bearer ".concat(e)}};k.get("http://localhost:8000/api/records/",c).then((function(e){t(x.actions.setRecords(e.data))})).catch((function(e){return{e:e}})),k.get("http://localhost:8000/api/category/",c).then((function(e){t(x.actions.setCategory(e.data))})).catch((function(e){return{e:e}})),k.get("http://localhost:8000/api/sub_category/",c).then((function(e){t(x.actions.setSubCategory(e.data))})).catch((function(e){return{e:e}})),k.get("http://localhost:8000/api/members/",c).then((function(e){t(x.actions.setMembers(e.data))})).catch((function(e){return{e:e}}))})).catch((function(e){try{"Wrong data"==={e:e}.e.response.data.detail&&C(Object(m.jsx)("div",{style:{color:"firebrick"},children:"Wrong Data"}))}catch(t){}p("#E74C3C"),setTimeout((function(){p("white"),C(Object(m.jsx)("div",{}))}),5e3)}))},onReset:function(e,t){(0,t.resetForm)({})},validateOnChange:!1,validateOnBlur:!1});return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.o,{className:!0,children:Object(m.jsx)(v.b,{to:"#",className:"nav-link",onClick:function(){return u(!h)},children:"Login"})}),Object(m.jsxs)(j.k,{isOpen:h,toggle:function(){return u(!h)},children:[Object(m.jsxs)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return u(!h)},children:"\xd7"}),toggle:function(){return u(!h)},children:["Login Form ",N]}),Object(m.jsx)(j.l,{style:{backgroundColor:f},children:Object(m.jsxs)(j.e,{onSubmit:S.handleSubmit,children:[Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Username"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"username",id:"username",type:"text",onChange:S.handleChange,value:S.values.username,required:!0})})]}),Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Password"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"password",id:"password",type:"password",onChange:S.handleChange,value:S.values.password,required:!0})})]}),Object(m.jsxs)(j.s,{className:"ml-auto",children:[Object(m.jsx)(j.b,{xs:2,children:Object(m.jsx)(j.a,{type:"submit",className:"primary bg-primary",children:"Submit"})}),Object(m.jsx)(j.b,{xs:2,children:Object(m.jsx)(j.a,{type:"reset",className:"primary bg-secondary ",children:"Cancel"})}),Object(m.jsx)(j.b,{xs:"auto",className:"text-center align-items-center "})]})]})})]})]})},I=function(){var e=Object(o.b)(),t=Object(i.g)(),c=Object(n.useState)(!1),a=Object(l.a)(c,2),r=a[0],b=a[1],u=Object(n.useState)("white"),O=Object(l.a)(u,2),g=O[0],f=O[1],p=Object(n.useState)(Object(m.jsx)("div",{})),y=Object(l.a)(p,2),_=y[0],N=y[1],C=Object(d.a)({initialValues:{username:"",password:"",email:""},onSubmit:function(c){var n,s,a;n=c.username,s=c.password,a=c.email,h.a.post("http://localhost:8000/auth/register/",{username:n,password:s,email:a}).then((function(c){return e(z.actions.setAuthTokens({token:c.data.token,refreshToken:c.data.refresh})),e(z.actions.setAccount(c.data.user)),t.push("/"),b(!r),c.data.token})).then((function(t){var c={headers:{Authorization:"Bearer ".concat(t)}};h.a.get("http://localhost:8000/api/records/",c).then((function(t){e(x.actions.setRecords(t.data))})).catch((function(e){return{e:e}})),h.a.get("http://localhost:8000/api/category/",c).then((function(t){e(x.actions.setCategory(t.data))})).catch((function(e){return{e:e}})),h.a.get("http://localhost:8000/api/sub_category/",c).then((function(t){e(x.actions.setSubCategory(t.data))})).catch((function(e){return{e:e}})),h.a.get("http://localhost:8000/api/members/",c).then((function(t){e(x.actions.setMembers(t.data))})).catch((function(e){return{e:e}}))})).catch((function(e){try{({e:e}).e.response.data.user_already_taken&&N(Object(m.jsx)("div",{style:{color:"firebrick"},children:"User Not Available"}))}catch(t){}f("#E74C3C"),setTimeout((function(){f("white"),N(Object(m.jsx)("div",{}))}),5e3)}))},validateOnChange:!1,validateOnBlur:!1,onReset:function(e,t){(0,t.resetForm)({})}});return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.o,{className:!0,children:Object(m.jsx)(v.b,{to:"#",className:"nav-link",onClick:function(){return b(!r)},children:"Register"})}),Object(m.jsxs)(j.k,{isOpen:r,toggle:function(){return b(!r)},children:[Object(m.jsxs)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return b(!r)},children:"\xd7"}),toggle:function(){return b(!r)},children:["Register Form     ",_]}),Object(m.jsx)(j.l,{style:{backgroundColor:g},children:Object(m.jsxs)(j.e,{onSubmit:C.handleSubmit,children:[Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Username"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"username",id:"username",type:"text",onChange:C.handleChange,value:C.values.username,required:!0})})]}),Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Email"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"email",id:"email",type:"email",onChange:C.handleChange,value:C.values.email,required:!0})})]}),Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.b,{children:Object(m.jsx)(j.h,{children:"Password"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"password",id:"password",type:"password",onChange:C.handleChange,value:C.values.password,required:!0})})]}),Object(m.jsxs)(j.s,{className:"ml-auto",children:[Object(m.jsx)(j.b,{xs:2,children:Object(m.jsx)(j.a,{type:"submit",className:"primary bg-primary",children:"Submit"})}),Object(m.jsx)(j.b,{xs:2,children:Object(m.jsx)(j.a,{type:"reset",className:"primary bg-secondary ",children:"Cancel"})}),Object(m.jsx)(j.b,{xs:"auto",className:"text-center align-items-center "})]})]})})]})]})},J=function(){return Object(m.jsx)(j.d,{className:"default-container",children:Object(m.jsxs)(j.s,{children:[Object(m.jsxs)(j.b,{xs:12,sm:6,children:[Object(m.jsx)("h3",{style:{textAlign:"center",marginBottom:"20px"},children:"Gestici le tue Economie SMART!"}),Object(m.jsxs)("span",{className:"home-description",children:["Tieni traccia delle spese quotiadiane e metti a confronto le spese fra diversi periodi dell'anno oppure tieni d'occhio chi, in famiglia, spende di pi\xf9. ",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),window.innerHeight<800?Object(m.jsxs)(j.b,{xs:12,sm:6,className:"img-home",children:[Object(m.jsx)("img",{src:"images/piggy_bank_home.png",className:"img-fluid img-home",alt:"piggybank"}),Object(m.jsx)("div",{className:"login-register-button text-center",children:Object(m.jsxs)(j.i,{type:"inline",children:[Object(m.jsx)(j.j,{children:Object(m.jsx)(j.a,{className:"login-register",children:Object(m.jsx)(q,{})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)(j.a,{className:"login-register",children:Object(m.jsx)(I,{})})})]})}),"      "]}):null,"Con Economies ti sar\xe0 possibile monitorare tutte le tue spese etichettate secondo categorie e sotto categorie da te create senza nessuna difficolt\xe0. Inoltre potrai creare fino a un massimo di 5 membri per account sotto il quale assegnare tali spese.",Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})]}),window.innerHeight>800?Object(m.jsxs)(j.b,{xs:12,sm:6,className:"img-home",children:[Object(m.jsx)("img",{src:"images/piggy_bank_home.png",className:"img-fluid img-home",alt:"piggybank"}),Object(m.jsx)("div",{className:"login-register-button text-center",children:Object(m.jsxs)(j.i,{type:"inline",children:[Object(m.jsx)(j.j,{children:Object(m.jsx)(j.a,{className:"login-register",children:Object(m.jsx)(q,{})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)(j.a,{className:"login-register",children:Object(m.jsx)(I,{})})})]})})]}):null]})})},L=c(21),P=c(209),V=c(107),K=c(396),W=c(397),G=c(203),H=c(204),Y=function(e){var t=e.records,c=e.members,n=new Set;t.forEach((function(e){return n.add(new Date(e.created_at).getMonth())}));var s={};c.forEach((function(e){return s[e.id]=e.member_name}));var a,r={},i=Object(L.a)(n.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;r[o]={tot:0}}}catch(h){i.e(h)}finally{i.f()}t.forEach((function(e){var t=new Date(e.created_at).getMonth();s[e.made_by]in r[t]?r[t][s[e.made_by]]+=e.price:r[t][s[e.made_by]]=e.price,r[t].tot+=e.price}));var j=[];Object.keys(r).forEach((function(e){var t={month:D[e]};Object.keys(r[e]).forEach((function(c){t[c]=r[e][c]})),j.push(t)}));var l=0,d=[];Object.keys(s).forEach((function(e){d.push(Object(m.jsx)(P.a,{dataKey:s[e],fill:E[l],children:Object(m.jsx)(V.a,{dataKey:s[e],position:"top"})})),l++}));var b=Math.max.apply(Math,j.map((function(e){return e.tot})));return Object(m.jsx)(k.a,{width:"99%",aspect:1,children:Object(m.jsxs)(K.a,{width:500,height:300,data:j,children:[Object(m.jsx)(W.a,{}),Object(m.jsx)(G.a,{dataKey:"month"}),Object(m.jsx)(H.a,{domain:[0,b+20],tickCount:10}),Object(m.jsx)(A.a,{}),Object(m.jsx)(M.a,{}),d]})})},U=function(e){var t=e.records,c=e.categories,n=new Set,s={};t.forEach((function(e){return n.add(new Date(e.created_at).getMonth())})),c.forEach((function(e){return s[e.id]=e.category_name}));var a,r={},i=Object(L.a)(n.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;r[o]={}}}catch(b){i.e(b)}finally{i.f()}t.forEach((function(e){var t=new Date(e.created_at).getMonth();s[e.category_associated]in r[t]?r[t][s[e.category_associated]]+=e.price:r[t][s[e.category_associated]]=e.price}));var j=[];Object.keys(r).forEach((function(e){var t={month:D[e]};Object.keys(r[e]).forEach((function(c){t[c]=r[e][c]})),j.push(t)}));var l=0,d=[];return Object.keys(s).forEach((function(e){d.push(Object(m.jsx)(P.a,{dataKey:s[e],stackId:"a",fill:B[l]})),l++})),Object(m.jsx)(k.a,{width:"99%",aspect:1,children:Object(m.jsxs)(K.a,{width:500,height:300,data:j,children:[Object(m.jsx)(W.a,{}),Object(m.jsx)(G.a,{dataKey:"month"}),Object(m.jsx)(H.a,{tickCount:10}),Object(m.jsx)(A.a,{}),d,Object(m.jsx)(M.a,{position:"right"})]})})},Q=c(208),X=function(e){var t=e.records,c=e.subcategories,n=e.categories,s={},a={};c.forEach((function(e){return s[e.id]=e.sub_category_name})),n.forEach((function(e){return a[e.id]=e.category_name}));var r={},i={},o=Object(Q.a)(t);o.sort((function(e,t){return e.category_associated-t.category_associated})),o.forEach((function(e){a[e.category_associated]in i?i[a[e.category_associated]]+=e.price:i[a[e.category_associated]]=e.price,a[e.category_associated]in r||(r[a[e.category_associated]]={}),e.sub_category_associated?s[e.sub_category_associated]in r[a[e.category_associated]]?r[a[e.category_associated]][s[e.sub_category_associated]]+=e.price:r[a[e.category_associated]][s[e.sub_category_associated]]=e.price:"generico"in r[a[e.category_associated]]?r[a[e.category_associated]]["generico-".concat(a[e.category_associated])]+=e.price:r[a[e.category_associated]]["generico-".concat(a[e.category_associated])]=e.price}));var j=[],l=[],d=[],b=[],h=0,u=0;Object.keys(i).forEach((function(e){j.push({name:e,value:i[e]}),l.push(Object(m.jsx)(C.a,{fill:E[h]},"cell-".concat(h))),h++,Object.keys(r[e]).forEach((function(t){d.push({name:t,value:r[e][t]}),b.push(Object(m.jsx)(C.a,{fill:B[u]},"cell-".concat(u))),u++}))}));var O=window.innerWidth<800?1:2.5;return Object(m.jsx)(k.a,{width:"100%",aspect:O,children:Object(m.jsxs)(S.a,{children:[Object(m.jsx)(w.a,{data:j,dataKey:"value",paddingAngle:1,outerRadius:120,fill:"#8884d8"}),Object(m.jsx)(w.a,{data:d,paddingAngle:1,dataKey:"value",innerRadius:125,outerRadius:170,fill:"#82ca9d",label:!0,children:b}),Object(m.jsx)(A.a,{contentStyle:{border:"4px solid royalblue",backgroundColor:"peachpuff"}}),window.innerWidth<600?Object(m.jsx)(M.a,{margin:{top:0,left:0,right:0,bottom:0},layout:"horizontal",align:"center",verticalAlign:"bottom",iconSize:10}):Object(m.jsx)(M.a,{layout:"vertical",align:"left",verticalAlign:"middle",iconSize:20})]})})},Z=function(){var e=Object(o.c)((function(e){return e.members.records})),t=Object(o.c)((function(e){return e.members.members})),c=Object(o.c)((function(e){return e.members.categories})),s=Object(o.c)((function(e){return e.members.subcategories})),a=JSON.parse(JSON.stringify(e)),r=new Date;r.setFullYear(r.getFullYear()-1);var i=Object(n.useState)(null),d=Object(l.a)(i,2),b=d[0],h=d[1],u=Object(n.useState)((new Date).toJSON().slice(0,10).replace(/-/g,"-")),O=Object(l.a)(u,2),x=O[0],g=O[1],f=Object(n.useState)(r.toJSON().slice(0,10).replace(/-/g,"-")),p=Object(l.a)(f,2),y=p[0],v=p[1],_=c.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.category_name})}));return a.forEach((function(e){return e.created_at=new Date(e.created_at)})),b&&(a=a.filter((function(e){return e.category_associated==b}))),a=a.filter((function(e){return e.created_at<=new Date(x)&&e.created_at>=new Date(y)})),Object(m.jsxs)(j.d,{className:"dashboard",children:[Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsx)(j.b,{children:Object(m.jsx)("h2",{className:"dashboard-title",children:"General Dashboard of all the records"})})}),Object(m.jsxs)(j.s,{className:"dashboard-form",children:[Object(m.jsxs)(j.b,{xs:"12",sm:"4",className:"dashboard-form-inside",children:[Object(m.jsx)(j.h,{children:"Filter by category \xa0"}),Object(m.jsxs)(j.g,{name:"category",id:"category",type:"select",onChange:function(e){return h(e.target.value)},value:b,className:"form-control",children:[Object(m.jsx)("option",{value:-1,children:" None "}),_]})]}),Object(m.jsxs)(j.b,{xs:"6",sm:"4",className:"dashboard-form-inside",children:[Object(m.jsx)(j.h,{children:"From \xa0"}),Object(m.jsx)(j.g,{name:"category",id:"category",type:"date",onChange:function(e){return g(e.target.value)},value:x,className:"form-control"})]}),Object(m.jsxs)(j.b,{xs:"6",sm:"4",className:"dashboard-form-inside",children:[Object(m.jsx)(j.h,{children:" \xa0 To \xa0"}),Object(m.jsx)(j.g,{name:"category",id:"category",type:"date",onChange:function(e){return v(e.target.value)},value:y,className:"form-control"})]})]}),Object(m.jsxs)(j.s,{className:"chart-row",children:[Object(m.jsxs)(j.b,{xs:"12",md:"6",style:{marginBottom:window.innerHeight<700?"15px":"30px"},children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{className:"text-center",children:Object(m.jsx)("h4",{children:"Cost divided by Members"})})}),Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{children:Object(m.jsx)(Y,{records:a,members:t})})})]}),Object(m.jsxs)(j.b,{xs:"12",md:"6",style:{marginBottom:window.innerHeight<700?"15px":"30px"},children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{className:"text-center",children:Object(m.jsx)("h4",{children:"Cost divided by Categories"})})}),Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{children:Object(m.jsx)(U,{records:a,categories:c})})})]})]}),Object(m.jsx)(j.s,{style:{margin:window.innerHeight<700?"15px 0":"30px 0"},children:Object(m.jsxs)(j.b,{xs:"12",md:"12",className:"text-center",children:[Object(m.jsx)("hr",{}),Object(m.jsx)("h4",{children:"Cost divided by subcategories"}),Object(m.jsx)("hr",{}),Object(m.jsx)(X,{records:a,categories:c,subcategories:s})]})})]})},$=function(){var e=c(25),t=Object(o.b)(),a=Object(o.c)((function(e){return e.auth.token})),r=Object(o.c)((function(e){return e.members.categories})),i={Authorization:"Bearer ".concat(a)},b="http://localhost:8000/api/records/",h=Object(n.useState)("update"),u=Object(l.a)(h,2),x=u[0],g=u[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),y=p[0],v=p[1],_=Object(n.useState)(!1),N=Object(l.a)(_,2),C=N[0],k=N[1],S=r.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.category_name})})),w=function(){return Object(m.jsxs)(j.k,{size:"lg",isOpen:C,toggle:function(){return k(!C)},children:[Object(m.jsx)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return k(!C)},children:"\xd7"}),children:"Detail Record"}),Object(m.jsxs)(j.l,{children:[Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Title"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R.record_name})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Price"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R.price})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Member"})}),Object(m.jsx)(j.b,{children:Object(m.jsxs)("p",{children:[" ",R?A.find((function(e){return e.id==R.made_by})).member_name:null]})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Main Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R?r.find((function(e){return e.id==R.category_associated})).category_name:null})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Sub Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R.sub_category_associated?B.find((function(e){return e.id==R.sub_category_associated})).sub_category_name:"Null"})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Created at"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R.created_at})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)("h6",{children:"Description"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)("p",{children:R.description})})]})]})]})},F=function(){var c=Object(d.a)({initialValues:{record_name:R.record_name,price:R.price,made_by:R.made_by,category_associated:R.category_associated,sub_category_associated:R.sub_category_associated,description:R.description,created_at:R.created_at},onSubmit:function(c,n){var s,a=n.resetForm;if(v(!y),-1===c.sub_category_associated&&(c.sub_category_associated=null),"delete"===x)s=R.id,e({method:"delete",url:b,headers:i,data:{id:s}}).then((function(){t(O.actions.removeRecord(R.id))})).catch((function(e){return{e:e}}));else!function(c){var n=c.values;n.id=R.id,e({method:"put",url:b,headers:i,data:n}).then((function(e){t(O.actions.updateRecord({values:e}))})).catch((function(e){return{e:e}}))}({values:c});a()}});var n=A.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.member_name})})),a=B.filter((function(e){return e.primary_category==c.values.category_associated})).map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.sub_category_name})}));return Object(m.jsxs)(j.k,{isOpen:y,toggle:function(){return v(!y)},children:[Object(m.jsx)(j.m,{close:Object(m.jsx)("button",{className:"close",onClick:function(){return v(!y)},children:"\xd7"}),children:"Form Record"}),Object(m.jsx)(j.l,{children:Object(m.jsx)(j.e,{onSubmit:c.handleSubmit,children:Object(m.jsxs)(j.d,{children:["delete"!=x?Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Record Name"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{className:"form-control",name:"record_name",id:"record_name",type:"text",onChange:function(e){c.handleChange(e)},value:c.values.record_name})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Price"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{className:"form-control",name:"price",id:"price",type:"number",onChange:c.handleChange,value:c.values.price})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Member"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{className:"form-control",name:"made_by",id:"made_by",type:"select",onChange:c.handleChange,value:c.values.made_by,children:n})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:"4",className:"align-items-center",children:Object(m.jsx)(j.h,{children:"Category"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{className:"form-control",name:"category_associated",id:"category_associated",type:"select",onChange:function(e){c.handleChange(e),c.values.sub_category=-1},value:c.values.category_associated,children:S})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)(j.h,{children:"Sub category"})}),Object(m.jsx)(j.b,{children:Object(m.jsxs)(j.g,{className:"form-control",name:"sub_category_name",id:"sub_category_name",type:"select",onChange:c.handleChange,value:c.values.sub_category_name,children:[Object(m.jsx)("option",{value:-1,children:" None "}),a]})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)(j.h,{children:"Description "})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"description",id:"description",type:"text",onChange:c.handleChange,value:c.values.description,placeholder:"Description"})})]})}),Object(m.jsx)(j.f,{children:Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.b,{xs:4,children:Object(m.jsx)(j.h,{children:"Created at"})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(j.g,{name:"created_at",id:"created_at",type:"date",onChange:c.handleChange,value:c.values.created_at})})]})})]}):Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.s,{children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:"Are you sure to delete?"})})}),Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsx)(j.b,{xs:12,children:Object(m.jsx)("span",{children:Object(m.jsx)("h3",{className:"deleteName",children:R.record_name})})})})]}),"delete"!=x?Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"primary",children:"Save Record"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return v(!y)},color:"secondary",children:"Cancel"})]})}):Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.b,{xs:12,children:[Object(m.jsx)(j.a,{type:"submit",className:"subButton",color:"danger",children:"Delete record"}),Object(m.jsx)(j.a,{type:"reset",className:"subButton",onClick:function(){return v(!y)},color:"secondary",children:"Cancel"})]})})]})})})]})},A=Object(o.c)((function(e){return e.members.members})),M=Object(o.c)((function(e){return e.members.records})),B=Object(o.c)((function(e){return e.members.subcategories})),E=Object(n.useState)(M[0]),D=Object(l.a)(E,2),R=D[0],T=D[1],z=Object(n.useState)({}),q=Object(l.a)(z,2),I=(q[0],q[1],Object(d.a)({initialValues:{category:-1}}));if(-1!=I.values.category)var J=M.filter((function(e){return e.category_associated==I.values.category}));else J=M;var L=0,P=J.map((function(e){return L++,Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:L}),Object(m.jsx)("td",{children:e.record_name}),Object(m.jsx)("td",{children:e.price}),Object(m.jsx)("td",{children:A.find((function(t){return t.id==e.made_by})).member_name}),Object(m.jsx)("td",{children:r.find((function(t){return t.id==e.category_associated})).category_name}),Object(m.jsx)("td",{children:e.sub_category_associated?B.find((function(t){return t.id==e.sub_category_associated})).sub_category_name:"Null"}),Object(m.jsx)("td",{children:e.created_at}),Object(m.jsxs)("td",{children:[Object(m.jsx)(j.a,{color:"info",onClick:function(){T(e),k(!C)},children:Object(m.jsx)("i",{className:"fa fa-info-circle"})}),Object(m.jsx)(j.a,{color:"danger",onClick:function(){v(!y),g("delete"),T(e)},children:Object(m.jsx)("i",{className:"fa fa-trash-o sm"})}),Object(m.jsx)(j.a,{color:"primary",onClick:function(){v(!y),T(e)},children:Object(m.jsx)("i",{className:"fa fa-refresh"})})]})]})}));return Object(m.jsxs)(j.d,{children:[R?Object(m.jsx)(w,{}):null,R?Object(m.jsx)(F,{}):null,Object(m.jsxs)(j.e,{inline:!0,className:"text-center",children:[Object(m.jsx)(j.h,{children:"Filter by category \xa0"}),Object(m.jsxs)(j.g,{name:"category",id:"category",type:"select",onChange:I.handleChange,value:I.values.category,className:"form-control",children:[Object(m.jsx)("option",{value:-1,children:" None "}),S]})]}),Object(m.jsx)(j.s,{className:"confRow",children:Object(m.jsx)(j.b,{children:Object(m.jsx)(j.s,{className:"text-center",children:Object(m.jsxs)(j.t,{hover:!0,responsive:!0,striped:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Price"}),Object(m.jsx)("th",{children:"Member"}),Object(m.jsx)("th",{children:"Main Category"}),Object(m.jsx)("th",{children:"Sub Category"}),Object(m.jsx)("th",{children:"Created at"}),Object(m.jsx)("th",{children:"Action"})]})}),Object(m.jsx)("tbody",{children:P})]})})})})]})},ee=function(){var e=Object(o.b)();return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsx)(j.o,{className:!0,children:Object(m.jsx)(v.b,{to:"#",className:"nav-link",onClick:function(){e(z.actions.logout())},children:"Logout"})})})},te=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(o.c)((function(e){return e.auth.isLogged})),i=function(){return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsx)(ee,{})})},d=function(){return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(q,{}),Object(m.jsx)(I,{})]})};return Object(m.jsx)(j.p,{light:!0,expand:"xs",className:"myNav",children:Object(m.jsxs)(j.d,{children:[Object(m.jsxs)(j.q,{children:[" ",Object(m.jsxs)(v.b,{to:"/home",children:[" Economies  ",Object(m.jsx)("img",{src:"images/piggy_bank.png",width:"35"})," "]})]}),Object(m.jsx)(j.r,{onClick:function(){return a(!c)}}),Object(m.jsx)(j.c,{isOpen:c,navbar:!0,children:Object(m.jsx)(j.n,{navbar:!0,className:"ml-auto",children:r?Object(m.jsx)(i,{}):Object(m.jsx)(d,{})})})]})})},ce=function(){return Object(m.jsx)(j.s,{className:"myFooter align-items-center",children:Object(m.jsxs)(j.d,{style:{paddingTop:"10px"},children:[Object(m.jsx)(j.b,{className:"text-center",children:Object(m.jsx)("span",{children:"@Copyright GabrieleGhisleni"})}),Object(m.jsx)(j.b,{className:"text-center Icons",children:Object(m.jsxs)(j.i,{type:"inline",children:[Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"https://github.com/GabrieleGhisleni",children:Object(m.jsx)("i",{className:"fa fa-github fa-lg"})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"https://www.linkedin.com/in/gabriele-ghisleni-bb553a199/",children:Object(m.jsx)("i",{className:"fa fa-linkedin fa-lg"})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"https://www.facebook.com/gabriele.ghisleni.125",children:Object(m.jsx)("i",{className:"fa fa-facebook fa-lg"})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"https://www.instagram.com/g_gabry_/",children:Object(m.jsx)("i",{className:"fa fa-instagram fa-lg"})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"mailto:gabriele.ghisleni01@gmail.com",children:Object(m.jsx)("i",{className:"fa fa-envelope-o fa-lg"})})}),Object(m.jsx)(j.j,{children:Object(m.jsx)("a",{href:"@",children:Object(m.jsx)("i",{className:"fa fa-info fa-lg"})})})]})})]})})},ne=function(){var e=Object(o.c)((function(e){return e.auth.isLogged}));return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(te,{}),e?Object(m.jsx)(N,{}):Object(m.jsx)("div",{}),Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{exact:!0,path:"/home",component:e?T:J}),e?Object(m.jsx)(i.b,{exact:!0,path:"/dashboard/",component:Z}):null,e?Object(m.jsx)(i.b,{exact:!0,path:"/history/",component:$}):null,e?Object(m.jsx)(i.b,{exact:!0,path:"/configurations/",component:y}):null,Object(m.jsx)(i.a,{to:"/home"})]}),Object(m.jsx)(ce,{})]})},se=c(205),ae=c(53),re=c(206),ie=c.n(re),oe=c(28),je=Object(oe.b)({auth:z.reducer,members:x.reducer}),le=Object(ae.g)({key:"root",version:1,storage:ie.a},je),de=Object(u.a)({reducer:le,middleware:Object(u.c)({serializableCheck:{ignoredActions:[ae.a,ae.f,ae.b,ae.c,ae.d,ae.e]}})}),be=Object(ae.h)(de),he=de;var ue=function(){return Object(m.jsx)(o.a,{store:he,children:Object(m.jsx)(se.a,{persistor:be,loading:null,children:Object(m.jsx)(v.a,{children:Object(m.jsx)(ne,{})})})})},Oe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,400)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};c(382),c(383),c(384);r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(ue,{})}),document.getElementById("root")),Oe()}},[[385,1,2]]]);
//# sourceMappingURL=main.caba0e71.chunk.js.map